---
layout: page
title: Plain Jane
permalink: /babb/plainjane/workpads
---

<div class="workpads-container">
  <button id="new-workpad-btn">New Workpad</button>
  
  <div id="workpad-list" class="workpad-list">
    <!-- Workpad cards will be inserted here -->
  </div>
</div>

<style>
  .workpads-container {
    max-width: 600px;
    margin: 2rem auto;
    padding: 1rem;
  }

  #new-workpad-btn {
    background-color: #0066cc;
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    margin-bottom: 1rem;
  }

  .workpad-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .workpad-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 1rem;
    background-color: #f9f9f9;
  }

  .workpad-card h2 {
    margin: 0 0 0.5rem;
  }

  @media (max-width: 640px) {
    .workpads-container {
      margin: 1rem;
    }
  }
</style>
<script>
  const workpadList = document.getElementById('workpad-list');
  const newWorkpadBtn = document.getElementById('new-workpad-btn');

  let workpads = JSON.parse(localStorage.getItem('workpads') || '[]');

  function saveWorkpads() {
    localStorage.setItem('workpads', JSON.stringify(workpads));
  }

  function renderWorkpads() {
    workpadList.innerHTML = '';
    workpads.forEach((pad, index) => {
      const card = document.createElement('div');
      card.className = 'workpad-card';

      card.innerHTML = `
        <h2 class="workpad-title" style="cursor:pointer; color:#0066cc; text-decoration:underline;">${pad.customerName || 'Untitled Workpad'}</h2>
        <p><strong>Date:</strong> ${pad.date || 'N/A'}</p>
        <p><strong>Location:</strong> ${pad.location || 'N/A'}</p>
        <div class="card-buttons" style="margin-top: 0.5rem;">
          <button class="edit-btn" data-index="${index}" aria-label="Edit Workpad">‚úèÔ∏è Edit</button>
          <button class="delete-btn" data-index="${index}" aria-label="Delete Workpad">üóëÔ∏è Delete</button>
        </div>
      `;

      // View on title click
      card.querySelector('.workpad-title').onclick = () => {
        window.location.href = `/babb/plainjane/workpad-view.html?id=${index}`;
      };

      workpadList.appendChild(card);
    });

    // Attach event listeners for edit and delete buttons
    document.querySelectorAll('.edit-btn').forEach(btn => {
      btn.onclick = (e) => {
        const idx = e.target.dataset.index;
        window.location.href = `/babb/plainjane/workpad-edit.html?id=${idx}`;
      };
    });

    document.querySelectorAll('.delete-btn').forEach(btn => {
      btn.onclick = (e) => {
        const idx = e.target.dataset.index;
        if (confirm('Are you sure you want to delete this workpad?')) {
          workpads.splice(idx, 1);
          saveWorkpads();
          renderWorkpads();
        }
      };
    });
  }

  newWorkpadBtn.onclick = () => {
    window.location.href = '/babb/plainjane/workpad-edit.html';
  };

  renderWorkpads();
</script>
